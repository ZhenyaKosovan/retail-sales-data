<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Test Static URL</title>
</head>
<body>
    <h1>Testing Direct Static URL</h1>
    <div id="output"></div>

    <script>
        const output = document.getElementById('output');

        async function test() {
            try {
                output.innerHTML = 'Testing static.ons.gov.uk URL...<br>';

                const url = 'https://static.ons.gov.uk/datasets/retail-sales-index-time-series-v43.csv';
                output.innerHTML += `Fetching: ${url}<br>`;

                const response = await fetch(url);
                output.innerHTML += `Status: ${response.status}<br>`;

                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}`);
                }

                const text = await response.text();
                output.innerHTML += `✓ Success! Got ${(text.length / 1024 / 1024).toFixed(2)} MB<br>`;
                output.innerHTML += `First line: ${text.split('\n')[0]}<br>`;

            } catch (error) {
                output.innerHTML += `<br>❌ Error: ${error.message}<br>`;
                console.error(error);
            }
        }

        test();
    </script>
</body>
</html>
